from pandera import DataFrameSchema, Column
import pandera as pa

events_schema = DataFrameSchema({
    "id": Column(pa.String, nullable=True),
    "index": Column(pa.Int64, nullable=True),
    "period": Column(pa.Int64, nullable=True),
    "timestamp": Column(pa.String, nullable=True),  # Skip type validation for timestamps
    "minute": Column(pa.Int64, nullable=True),
    "second": Column(pa.Int64, nullable=True),
    "possession": Column(pa.Int64, nullable=True),
    "duration": Column(pa.Float64, nullable=True),
    "type_id": Column(pa.Int64, nullable=True),
    "type_name": Column(pa.String, nullable=True),
    "possession_team_id": Column(pa.Int64, nullable=True),
    "possession_team_name": Column(pa.String, nullable=True),
    "play_pattern_id": Column(pa.Int64, nullable=True),
    "play_pattern_name": Column(pa.String, nullable=True),
    "team_id": Column(pa.Int64, nullable=True),
    "team_name": Column(pa.String, nullable=True),
    "tactics_formation": Column(pa.Float64, nullable=True),
    "related_events": Column(pa.Object, nullable=True),  # Changed from String to Object for lists
    "location": Column(pa.Object, nullable=True),  # Changed from String to Object for arrays
    "player_id": Column(pa.Int64, nullable=True),
    "player_name": Column(pa.String, nullable=True),
    "position_id": Column(pa.Int64, nullable=True),
    "position_name": Column(pa.String, nullable=True),
    "pass_recipient_id": Column(pa.Int64, nullable=True),
    "pass_recipient_name": Column(pa.String, nullable=True),
    "pass_length": Column(pa.Float64, nullable=True),
    "pass_angle": Column(pa.Float64, nullable=True),
    "pass_height_id": Column(pa.Int64, nullable=True),
    "pass_height_name": Column(pa.String, nullable=True),
    "pass_end_location": Column(pa.Object, nullable=True),  # Changed from String to Object for arrays
    "pass_body_part_id": Column(pa.Int64, nullable=True),
    "pass_body_part_name": Column(pa.String, nullable=True),
    "pass_type_id": Column(pa.Int64, nullable=True),
    "pass_type_name": Column(pa.String, nullable=True),
    "under_pressure": Column(pa.Bool, nullable=True),
    "carry_end_location": Column(pa.Object, nullable=True),  # Changed from String to Object for arrays
    "pass_outcome_id": Column(pa.Int64, nullable=True),
    "pass_outcome_name": Column(pa.String, nullable=True),
    "ball_receipt_outcome_id": Column(pa.Int64, nullable=True),
    "ball_receipt_outcome_name": Column(pa.String, nullable=True),
    "pass_assisted_shot_id": Column(pa.String, nullable=True),
    "pass_shot_assist": Column(pa.Bool, nullable=True),
    "pass_through_ball": Column(pa.Bool, nullable=True),
    "pass_technique_id": Column(pa.Int64, nullable=True),
    "pass_technique_name": Column(pa.String, nullable=True),
    "dribble_outcome_id": Column(pa.Int64, nullable=True),
    "dribble_outcome_name": Column(pa.String, nullable=True),
    "shot_statsbomb_xg": Column(pa.Float64, nullable=True),
    "shot_end_location": Column(pa.Object, nullable=True),  # Changed from String to Object for arrays
    "shot_key_pass_id": Column(pa.String, nullable=True),
    "shot_body_part_id": Column(pa.Int64, nullable=True),
    "shot_body_part_name": Column(pa.String, nullable=True),
    "shot_technique_id": Column(pa.Int64, nullable=True),
    "shot_technique_name": Column(pa.String, nullable=True),
    "shot_type_id": Column(pa.Int64, nullable=True),
    "shot_type_name": Column(pa.String, nullable=True),
    "shot_outcome_id": Column(pa.Int64, nullable=True),
    "shot_outcome_name": Column(pa.String, nullable=True),
    "goalkeeper_end_location": Column(pa.Object, nullable=True),  # Changed from String to Object for arrays
    "goalkeeper_position_id": Column(pa.Int64, nullable=True),
    "goalkeeper_position_name": Column(pa.String, nullable=True),
    "goalkeeper_type_id": Column(pa.Int64, nullable=True),
    "goalkeeper_type_name": Column(pa.String, nullable=True),
    "pass_cross": Column(pa.Bool, nullable=True),
    "counterpress": Column(pa.Bool, nullable=True),
    "duel_type_id": Column(pa.Int64, nullable=True),
    "duel_type_name": Column(pa.String, nullable=True),
    "duel_outcome_id": Column(pa.Int64, nullable=True),
    "duel_outcome_name": Column(pa.String, nullable=True),
    "goalkeeper_outcome_id": Column(pa.Int64, nullable=True),
    "goalkeeper_outcome_name": Column(pa.String, nullable=True),
    "ball_recovery_recovery_failure": Column(pa.Bool, nullable=True),
    "pass_switch": Column(pa.Bool, nullable=True),
    "shot_first_time": Column(pa.Bool, nullable=True),
    "pass_goal_assist": Column(pa.Bool, nullable=True),
    "dribble_nutmeg": Column(pa.Bool, nullable=True),
    "interception_outcome_id": Column(pa.Int64, nullable=True),
    "interception_outcome_name": Column(pa.String, nullable=True),
    "pass_aerial_won": Column(pa.Bool, nullable=True),
    "dribble_overrun": Column(pa.Bool, nullable=True),
    "pass_backheel": Column(pa.Bool, nullable=True),
    "goalkeeper_technique_id": Column(pa.Int64, nullable=True),
    "goalkeeper_technique_name": Column(pa.String, nullable=True),
    "goalkeeper_body_part_id": Column(pa.Int64, nullable=True),
    "goalkeeper_body_part_name": Column(pa.String, nullable=True),
    "pass_deflected": Column(pa.Bool, nullable=True),
    "block_deflection": Column(pa.Bool, nullable=True),
    "substitution_outcome_id": Column(pa.Int64, nullable=True),
    "substitution_outcome_name": Column(pa.String, nullable=True),
    "substitution_replacement_id": Column(pa.Int64, nullable=True),
    "substitution_replacement_name": Column(pa.String, nullable=True),
    "shot_one_on_one": Column(pa.Bool, nullable=True),
    "foul_committed_advantage": Column(pa.Bool, nullable=True),
    "foul_won_advantage": Column(pa.Bool, nullable=True),
    "injury_stoppage_in_chain": Column(pa.Bool, nullable=True),
    "foul_committed_offensive": Column(pa.Bool, nullable=True),
    "foul_won_defensive": Column(pa.Bool, nullable=True),
    "bad_behaviour_card_id": Column(pa.Int64, nullable=True),
    "bad_behaviour_card_name": Column(pa.String, nullable=True),
    "ball_recovery_offensive": Column(pa.Bool, nullable=True),
    "tactics_lineup_jersey_number": Column(pa.Int64, nullable=True),
    "shot_freeze_frame_location": Column(pa.Object, nullable=True),  # Changed from String to Object for arrays
    "shot_freeze_frame_teammate": Column(pa.Bool, nullable=True),
    "tactics_lineup_player_id": Column(pa.Int64, nullable=True),
    "tactics_lineup_player_name": Column(pa.String, nullable=True),
    "tactics_lineup_position_id": Column(pa.Int64, nullable=True),
    "tactics_lineup_position_name": Column(pa.String, nullable=True),
    "shot_freeze_frame_player_id": Column(pa.Int64, nullable=True),
    "shot_freeze_frame_player_name": Column(pa.String, nullable=True),
    "shot_freeze_frame_position_id": Column(pa.Int64, nullable=True),
    "shot_freeze_frame_position_name": Column(pa.String, nullable=True),
    "x": Column(pa.Float64, nullable=True),
    "y": Column(pa.Float64, nullable=True),
    "end_x": Column(pa.Float64, nullable=True),
    "end_y": Column(pa.Float64, nullable=True),
    "possession_event_count": Column(pa.Int64, nullable=True),  # Changed from String to Int64
    "possession_pass_count": Column(pa.Int64, nullable=True),  # Changed from String to Int64
    "possession_player_count": Column(pa.Int64, nullable=True),  # Changed from String to Int64
    "possession_duration": Column(pa.Float64, nullable=True),  # Changed from Int64 to Float64 for seconds
    "total_xG": Column(pa.Float64, nullable=True),
    
    # Adding common extra columns found in the data
    "clearance_left_foot": Column(pa.Bool, nullable=True),
    "clearance_right_foot": Column(pa.Bool, nullable=True),
    "clearance_head": Column(pa.Bool, nullable=True),
    "clearance_other": Column(pa.Bool, nullable=True),
    "clearance_body_part_id": Column(pa.Int64, nullable=True),
    "clearance_body_part_name": Column(pa.String, nullable=True),
    "clearance_aerial_won": Column(pa.Bool, nullable=True),
    
    "50_50_outcome_id": Column(pa.Int64, nullable=True),
    "50_50_outcome_name": Column(pa.String, nullable=True),
    
    "block_offensive": Column(pa.Bool, nullable=True),
    "block_save_block": Column(pa.Bool, nullable=True),
    
    "foul_committed_type_id": Column(pa.Int64, nullable=True),
    "foul_committed_type_name": Column(pa.String, nullable=True),
    "foul_committed_card_id": Column(pa.Int64, nullable=True),
    "foul_committed_card_name": Column(pa.String, nullable=True),
    
    "pass_inswinging": Column(pa.Bool, nullable=True),
    "pass_outswinging": Column(pa.Bool, nullable=True),
    "pass_cut_back": Column(pa.Bool, nullable=True),
    "pass_no_touch": Column(pa.Bool, nullable=True),
    "pass_straight": Column(pa.Bool, nullable=True),
    "pass_miscommunication": Column(pa.Bool, nullable=True),
    
    "shot_deflected": Column(pa.Bool, nullable=True),
    "shot_aerial_won": Column(pa.Bool, nullable=True),
    "shot_open_goal": Column(pa.Bool, nullable=True),
    "shot_redirect": Column(pa.Bool, nullable=True),
    
    "miscontrol_aerial_won": Column(pa.Bool, nullable=True),
    "dribble_no_touch": Column(pa.Bool, nullable=True),
    "goalkeeper_punched_out": Column(pa.Bool, nullable=True),
    
    "off_camera": Column(pa.Bool, nullable=True),
    "out": Column(pa.Bool, nullable=True),
})